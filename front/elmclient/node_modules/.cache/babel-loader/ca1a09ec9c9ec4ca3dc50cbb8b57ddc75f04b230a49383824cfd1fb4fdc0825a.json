{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Footer from '../components/Footer.vue';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      userId: '',\n      password: ''\n    };\n  },\n  methods: {\n    login() {\n      if (this.userId == '') {\n        alert('手机号码不能为空！');\n        return;\n      }\n      if (this.password == '') {\n        alert('密码不能为空！');\n        return;\n      }\n\n      //登录请求\n      this.$axios.post('UserController/getUserByIdByPass', this.$qs.stringify({\n        userId: this.userId,\n        password: this.password\n      })).then(response => {\n        let user = response.data;\n        if (user == null) {\n          alert('用户名或密码不正确！');\n        } else {\n          //sessionstorage有容量限制，为了防止数据溢出，所以不将userImg数据放入session中\n          user.userImg = '';\n          this.$setSessionStorage('user', user);\n          this.$router.go(-1);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n      this.$axios.post('UserController/getTokenByIdByPass', this.$qs.stringify({\n        userId: this.userId,\n        password: this.password\n      })).then(response => {\n        let token = response.data;\n        if (token == null) {\n          alert('用户名或密码不正确！');\n        } else {\n          //sessionstorage有容量限制，为了防止数据溢出，所以不将userImg数据放入session中\n          user.userImg = '';\n          this.$setSessionStorage('token', token);\n          this.$router.go(-1);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    register() {\n      this.$router.push({\n        path: '/register'\n      });\n    }\n  },\n  components: {\n    Footer\n  }\n};","map":{"version":3,"names":["Footer","name","data","userId","password","methods","login","alert","$axios","post","$qs","stringify","then","response","user","userImg","$setSessionStorage","$router","go","catch","error","console","token","register","push","path","components"],"sources":["D:\\Comprehensive_HomeWork\\elm-master\\elm-master\\P3\\elmclient\\src\\views\\Login.vue"],"sourcesContent":["<template>\n\t<div class=\"wrapper\">\n\t\t<!--头部-->\n\t\t<header>\n\t\t\t<p>登录</p>\n\t\t</header>\n\t\t<!--表单-->\n\t\t<ul class=\"form-box\">\n\t\t\t<li>\n\t\t\t\t<div class=\"title\">\n\t\t\t\t\t手机号码:\n\t\t\t\t</div>\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<input type=\"text\" v-model=\"userId\" placeholder=\"手机号码\">\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div class=\"title\">\n\t\t\t\t\t密码:\n\t\t\t\t</div>\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<input type=\"password\" v-model=\"password\" placeholder=\"密码\">\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t<div class=\"button-login\">\n\t\t\t<button @click=\"login\">登录</button>\n\t\t</div>\n\t\t<div class=\"button-register\">\n\t\t\t<button @click=\"register\">去注册</button>\n\t\t</div>\n\n\n\t\t<!--底部菜单-->\n\t\t<Footer></Footer>\n\t</div>\n</template>\n\n<script>\n\timport Footer from '../components/Footer.vue';\n\n\texport default {\n\t\tname: 'Login',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserId: '',\n\t\t\t\tpassword: ''\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tlogin() {\n\t\t\t\tif (this.userId == '') {\n\t\t\t\t\talert('手机号码不能为空！');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.password == '') {\n\t\t\t\t\talert('密码不能为空！');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//登录请求\n\t\t\t\tthis.$axios.post('UserController/getUserByIdByPass', this.$qs.stringify({\n\t\t\t\t\tuserId: this.userId,\n\t\t\t\t\tpassword: this.password\n\t\t\t\t})).then(response => {\n\t\t\t\t\tlet user = response.data;\n\t\t\t\t\tif (user == null) {\n\t\t\t\t\t\talert('用户名或密码不正确！');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//sessionstorage有容量限制，为了防止数据溢出，所以不将userImg数据放入session中\n\t\t\t\t\t\tuser.userImg = '';\n\t\t\t\t\t\tthis.$setSessionStorage('user', user);\n\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios.post('UserController/getTokenByIdByPass', this.$qs.stringify({\r\n\t\t\t\t\tuserId: this.userId,\r\n\t\t\t\t\tpassword: this.password\r\n\t\t\t\t})).then(response => {\r\n\t\t\t\t\tlet token = response.data;\r\n\t\t\t\t\tif (token == null) {\r\n\t\t\t\t\t\talert('用户名或密码不正确！');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//sessionstorage有容量限制，为了防止数据溢出，所以不将userImg数据放入session中\r\n\t\t\t\t\t\tuser.userImg = '';\r\n\t\t\t\t\t\tthis.$setSessionStorage('token', token);\r\n\t\t\t\t\t\tthis.$router.go(-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t});\n\t\t},\n\t\tregister(){\n\t\t this.$router.push({path:'/register'});\n\t\t }\n\t\t },\n\t\tcomponents: {\n\t\t\tFooter\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t/**总容器*/\n\t.wrapper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t/**头部*/\n\t.wrapper header {\n\t\twidth: 100%;\n\t\theight: 12vw;\n\t\tbackground-color: #0097FF;\n\n\t\tcolor: #fff;\n\t\tfont-size: 4.8vw;\n\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tz-index: 1000;\n\t\t/*提高头部层次，覆盖同样离开文档流的红色图标和图片*/\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t}\n\n\t/*表单*/\n\t.wrapper .form-box {\n\t\twidth: 100%;\n\t\tmargin-top: 12vw;\n\t}\n\n\t.wrapper .form-box li {\n\t\tbox-sizing: border-box;\n\t\tpadding: 4vw 3vw 0 3vw;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.wrapper .form-box li .title {\n\t\tflex: 0 0 18vw;\n\t\tfont-size: 3vw;\n\t\tfont-weight: 700;\n\t\tcolor: #666;\n\n\t}\n\n\t.wrapper .form-box li .content {\n\t\tflex: 1;\n\t}\n\n\t.wrapper .form-box li .content input {\n\t\tborder: none;\n\t\toutline: none;\n\t\twidth: 100%;\n\t\theight: 4vw;\n\t\tfont-size: 3vw;\n\t}\n\n\t.wrapper .button-login {\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tpadding: 4vw 3vw 0 3vw;\n\t}\n\n\t.wrapper .button-login button {\n\t\twidth: 100%;\n\t\theight: 10vw;\n\t\tfont-size: 3.8vw;\n\t\tfont-weight: 700;\n\t\tcolor: #fff;\n\t\tbackground-color: #38ca73;\n\t\tborder-radius: 4px;\n\n\t\tborder: none;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t}\n\n\t.wrapper .button-register {\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tpadding: 4vw 3vw 0 3vw;\n\t}\n\n\t.wrapper .button-register button {\n\t\twidth: 100%;\n\t\theight: 10vw;\n\t\tfont-size: 3.8vw;\n\t\tfont-weight: 700;\n\t\tcolor: #666;\n\t\tbackground-color: #eee;\n\t\tborder-radius: 4px;\n\n\t\tborder: solid 1px #ddd;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t}\n</style>\n"],"mappings":";AAuCC,OAAOA,MAAK,MAAO,0BAA0B;AAE7C,eAAe;EACdC,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE;IACX;EACD,CAAC;EACDC,OAAO,EAAE;IACRC,KAAKA,CAAA,EAAG;MACP,IAAI,IAAI,CAACH,MAAK,IAAK,EAAE,EAAE;QACtBI,KAAK,CAAC,WAAW,CAAC;QAClB;MACD;MACA,IAAI,IAAI,CAACH,QAAO,IAAK,EAAE,EAAE;QACxBG,KAAK,CAAC,SAAS,CAAC;QAChB;MACD;;MAEA;MACA,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,kCAAkC,EAAE,IAAI,CAACC,GAAG,CAACC,SAAS,CAAC;QACvER,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBC,QAAQ,EAAE,IAAI,CAACA;MAChB,CAAC,CAAC,CAAC,CAACQ,IAAI,CAACC,QAAO,IAAK;QACpB,IAAIC,IAAG,GAAID,QAAQ,CAACX,IAAI;QACxB,IAAIY,IAAG,IAAK,IAAI,EAAE;UACjBP,KAAK,CAAC,YAAY,CAAC;QACpB,OAAO;UACN;UACAO,IAAI,CAACC,OAAM,GAAI,EAAE;UACjB,IAAI,CAACC,kBAAkB,CAAC,MAAM,EAAEF,IAAI,CAAC;UACrC,IAAI,CAACG,OAAO,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;QACpB;MACD,CAAC,CAAC,CAACC,KAAK,CAACC,KAAI,IAAK;QACjBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACrB,CAAC,CAAC;MAEF,IAAI,CAACZ,MAAM,CAACC,IAAI,CAAC,mCAAmC,EAAE,IAAI,CAACC,GAAG,CAACC,SAAS,CAAC;QACxER,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBC,QAAQ,EAAE,IAAI,CAACA;MAChB,CAAC,CAAC,CAAC,CAACQ,IAAI,CAACC,QAAO,IAAK;QACpB,IAAIS,KAAI,GAAIT,QAAQ,CAACX,IAAI;QACzB,IAAIoB,KAAI,IAAK,IAAI,EAAE;UAClBf,KAAK,CAAC,YAAY,CAAC;QACpB,OAAO;UACN;UACAO,IAAI,CAACC,OAAM,GAAI,EAAE;UACjB,IAAI,CAACC,kBAAkB,CAAC,OAAO,EAAEM,KAAK,CAAC;UACvC,IAAI,CAACL,OAAO,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;QACpB;MACD,CAAC,CAAC,CAACC,KAAK,CAACC,KAAI,IAAK;QACjBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACrB,CAAC,CAAC;IACJ,CAAC;IACDG,QAAQA,CAAA,EAAE;MACT,IAAI,CAACN,OAAO,CAACO,IAAI,CAAC;QAACC,IAAI,EAAC;MAAW,CAAC,CAAC;IACrC;EACA,CAAC;EACFC,UAAU,EAAE;IACX1B;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}